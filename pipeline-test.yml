parameters:
  - name: environment
    type: string
    default: develop
    values:
    - production
    - staging
    - develop
  - name: users
    type: object
    default:
      - john
      - jane
      - bob

variables:
  - name: myVar

steps:
  - ${{ each user in parameters.users }}:
    - script: echo "##vso[task.setvariable variable=myVar;]foo"
      displayName: 'Set Variable'
    - script: echo ${{ user }}
      displayName: 'Create user ${{ myVar }}'
    # - script: echo "You can use macro syntax for variables: $(myVar)"
    #   displayName: 'Read Variable'

